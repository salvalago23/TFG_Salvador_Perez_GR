import gymnasium as gym

#Maze configs
maze5x5 = { "starting_pos": [[0,0], [2,0], [4,0]],
             "maze":[
                    ['.', '.', '#', '.', 'G'],
                    ['.', '.', '#', '.', '.'],
                    ['.', '.', '.', '.', '.'],
                    ['.', '.', '#', '.', '.'],
                    ['S', '.', '#', '.', '.'],
                    ]
        }

maze14x14 = { "starting_pos": [[0,0], [5,0], [7,0], [13,0], [13,5], [13,8], [13,11]],
             "maze":[
                    ['.', '#', '.', '.', '.', '.', '.', '.', '#', '#', '#', '#', '.', 'G'],
                    ['.', '#', '.', '#', '#', '#', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '#', '.', '.'],
                    ['.', '#', '#', '#', '.', '#', '.', '.', '.', '.', '.', '#', '.', '.'],
                    ['.', '.', '#', '.', '.', '#', '#', '#', '#', '#', '.', '#', '#', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.'],
                    ['#', '#', '#', '#', '#', '.', '#', '#', '.', '.', '.', '.', '#', '.'],
                    ['.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '#', '.', '.', '#', '.', '#', '.', '#', '#', '#'],
                    ['#', '.', '#', '.', '#', '.', '#', '#', '.', '#', '.', '.', '.', '.'],
                    ['.', '.', '#', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '#', '#', '.', '#', '.', '.', '.', '.', '#', '.', '#', '#', '.'],
                    ['.', '.', '.', '.', '#', '#', '.', '#', '.', '#', '.', '.', '#', '.'],
                    ['S', '.', '#', '.', '#', '.', '.', '#', '.', '#', '.', '.', '#', '.'],
                    ]
            }

mazes = {"5x5": maze5x5, "14x14": maze14x14}

def createOfflineEnv(shape, n_models, reward, max_steps=500, render=False, id=0):
    # Register the environment
    id = 'gridOffline-v' + str(id)

    gym.register(id=id, entry_point='envs.environments:OfflineGridWorldEnv')

    if shape == "5x5":
        maze = mazes["5x5"]
    elif shape == "14x14":
        maze = mazes["14x14"]

    # Create the environment
    env = gym.make(id, maze=maze, shape=shape, n_models=n_models, reward=reward, render=render, max_steps_per_episode=max_steps)

    return env