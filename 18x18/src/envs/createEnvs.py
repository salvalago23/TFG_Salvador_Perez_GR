import gymnasium as gym

#Maze config
maze2 = [
    ['#', '.', '.', '.', '#', '#', '#', '#', '.', '#', '.', '#', '.', '.', '.', '.', '.', 'G'],
    ['#', '.', '#', '.', '#', '.', '#', '#', '.', '#', '.', '#', '.', '#', '.', '#', '.', '.'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '#'],
    ['.', '.', '#', '.', '#', '.', '.', '#', '.', '#', '.', '.', '.', '#', '.', '#', '.', '.'],
    ['.', '#', '#', '.', '#', '.', '#', '.', '.', '#', '#', '.', '#', '#', '.', '#', '#', '#'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '.', '#', '.', '#', '#', '#', '.', '#', '#', '.', '#', '#', '#', '#', '#', '.', '#'],
    ['#', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['.', '#', '#', '.', '.', '.', '#', '#', '.', '#', '#', '.', '#', '.', '#', '#', '#', '.'],
    ['.', '.', '#', '.', '.', '#', '#', '.', '.', '.', '#', '.', '#', '.', '.', '#', '.', '.'],
    ['#', '.', '#', '.', '#', '.', '#', '.', '#', '.', '#', '.', '#', '#', '.', '#', '.', '#'],
    ['.', '.', '.', '.', '#', '.', '#', '.', '#', '#', '#', '.', '#', '.', '#', '#', '.', '#'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '#', '#', '#', '.', '#', '#', '#', '.', '#', '.', '#', '#', '#', '.', '#', '.', '#'],
    ['.', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '.', '#', '.', '.', '.', '.', '.', '.', '#', '#', '#', '.', '#', '#', '#', '.', '.'],
    ['#', '#', '#', '#', '.', '#', '#', '#', '.', '#', '.', '#', '#', '.', '#', '#', '#', '.'],
    ['S', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
]

maze3 = [
    ['#', '.', '#', '#', '.', '#', '.', '#', '.', '.', '.', '.', '.', 'G'],
    ['#', '.', '#', '#', '.', '#', '.', '#', '.', '#', '.', '#', '.', '.'],
    ['.', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '#'],
    ['.', '.', '.', '#', '.', '#', '.', '.', '.', '#', '.', '#', '.', '.'],
    ['.', '#', '#', '.', '.', '#', '#', '.', '#', '#', '.', '#', '#', '#'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '.', '#', '.', '#', '#', '.', '#', '#', '#', '#', '#', '.', '#'],
    ['#', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '#', '#', '#', '.', '#', '#', '.', '#', '.', '#', '#', '#', '.'],
    ['#', '#', '#', '#', '.', '#', '.', '#', '#', '#', '.', '#', '.', '.'],
    ['.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '.', '.', '.', '.', '#', '#', '#', '.', '#', '#', '#', '.', '.'],
    ['#', '#', '#', '#', '.', '#', '.', '#', '#', '#', '#', '#', '#', '.'],
    ['S', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
]

maze3 = [
    ['#', '.', '#', '#', '.', '#', '.', '#', '.', '.', '.', '.', '.', 'G'],
    ['#', '.', '#', '#', '.', '#', '.', '#', '.', '#', '.', '#', '.', '.'],
    ['.', '.', '.', '.', '.', '.', '.', '#', '.', '#', '.', '.', '.', '#'],
    ['.', '.', '.', '#', '.', '#', '.', '.', '.', '#', '.', '#', '.', '.'],
    ['.', '#', '#', '.', '.', '#', '#', '.', '#', '#', '.', '#', '#', '#'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '.', '#', '.', '#', '#', '.', '#', '#', '#', '#', '#', '.', '#'],
    ['#', '.', '.', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.'],
    ['#', '.', '#', '#', '.', '#', '#', '.', '#', '.', '#', '#', '#', '.'],
    ['.', '.', '#', '.', '.', '#', '.', '#', '#', '#', '.', '#', '.', '.'],
    ['.', '.', '#', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['.', '.', '.', '.', '.', '#', '#', '#', '.', '#', '#', '#', '.', '.'],
    ['.', '#', '#', '#', '.', '#', '.', '#', '.', '#', '#', '.', '.', '.'],
    ['S', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.'],
]

maze2 = [
    ['.', '#', '.', '.', '.', '.', '.', '.', '#', '#', '#', '#', '.', 'G'],
    ['.', '#', '.', '#', '#', '#', '.', '.', '.', '.', '.', '.', '.', '.'],
    ['.', '.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '#', '.', '.'],
    ['.', '#', '#', '#', '.', '#', '.', '.', '.', '.', '.', '#', '.', '.'],
    ['.', '.', '#', '.', '.', '#', '#', '#', '#', '#', '.', '#', '#', '.'],
    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.'],
    ['#', '#', '#', '#', '#', '.', '#', '#', '.', '.', '.', '.', '#', '.'],
    ['.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '.', '.', '.', '.'],
    ['.', '.', '.', '.', '#', '.', '.', '#', '.', '#', '.', '#', '#', '#'],
    ['#', '.', '#', '.', '#', '.', '#', '#', '.', '#', '.', '.', '.', '.'],
    ['.', '.', '#', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.'],
    ['.', '#', '#', '.', '#', '.', '.', '.', '.', '#', '.', '#', '#', '.'],
    ['.', '.', '.', '.', '#', '#', '.', '#', '.', '#', '.', '.', '#', '.'],
    ['.', '.', '#', '.', '#', '.', '.', '#', '.', '#', '.', '.', '#', '.'],
]


#create a dictionary with the maze and the staring positions
maze = { "starting_pos": [[0,0], [5,0], [7,0], [13,0], [13,5], [13,8], [13,11]],
             "maze":[
                    ['.', '#', '.', '.', '.', '.', '.', '.', '#', '#', '#', '#', '.', 'G'],
                    ['.', '#', '.', '#', '#', '#', '.', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '#', '.', '.'],
                    ['.', '#', '#', '#', '.', '#', '.', '.', '.', '.', '.', '#', '.', '.'],
                    ['.', '.', '#', '.', '.', '#', '#', '#', '#', '#', '.', '#', '#', '.'],
                    ['.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '#', '.'],
                    ['#', '#', '#', '#', '#', '.', '#', '#', '.', '.', '.', '.', '#', '.'],
                    ['.', '.', '.', '.', '#', '.', '.', '#', '.', '.', '.', '.', '.', '.'],
                    ['.', '.', '.', '.', '#', '.', '.', '#', '.', '#', '.', '#', '#', '#'],
                    ['#', '.', '#', '.', '#', '.', '#', '#', '.', '#', '.', '.', '.', '.'],
                    ['.', '.', '#', '.', '.', '.', '#', '.', '.', '.', '.', '.', '.', '.'],
                    ['.', '#', '#', '.', '#', '.', '.', '.', '.', '#', '.', '#', '#', '.'],
                    ['.', '.', '.', '.', '#', '#', '.', '#', '.', '#', '.', '.', '#', '.'],
                    ['S', '.', '#', '.', '#', '.', '.', '#', '.', '#', '.', '.', '#', '.'],
                    ]
            }


def createCSVEnv(randomStart=False, render=False):
    # Register the environment
    gym.register(id='grid-v0', entry_point='envs.environments:CSVGeneratorEnv')
    # Create the environment
    env = gym.make('grid-v0',maze=maze, randomStart=randomStart, render=render)#, max_episode_steps=500)

    return env

def createNNEnv():
    # Register the environment
    gym.register(id='gridNN-v0', entry_point='envs.environments:NNGridWorldEnv')

    grid_model_path = '../data/models/modelo_entorno.pt'
    reward_model_path = '../data/models/modelo_reward.pt'

    # Create the environment
    env = gym.make('gridNN-v0', maze=maze, grid_model_path=grid_model_path, reward_model_path=reward_model_path)#, max_episode_steps=500)

    return env